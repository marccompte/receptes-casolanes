{"version":3,"sources":["../node_modules/signals/dist/signals.js","../node_modules/crossroads/dist/crossroads.js","js/main.js"],"names":["crossroads","require","worker","menu","$","document","ready","APP","init","Worker","alert","addRoute","id","show","home","routed","add","console","log","parse","location","pathname","onmessage","params","data","type","li","html","idx","title","addClass","appendTo","setTimeout","removeClass","recipes","push","recipe","receptes","a","href","Math","random","Titol","append","finish","dropdown","constrain_width","closeOnClick","coverTrigger","hover","content","page","postMessage","parseInt","template","find","list","Object","keys","Ingredients","forEach","ingredient","desc","Elaboracio","map","step","length","join","hasClass","other","Categories","categoria","bind","attr","ingredients","toUpperCase","substring","String","prototype","width","font","f","o","text","css","w","remove"],"mappings":"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","file":"main.fb6bbcaf.js","sourceRoot":"../receptes-casolanes/src","sourcesContent":["/*jslint onevar:true, undef:true, newcap:true, regexp:true, bitwise:true, maxerr:50, indent:4, white:false, nomen:false, plusplus:false */\n/*global define:false, require:false, exports:false, module:false, signals:false */\n\n/** @license\n * JS Signals <http://millermedeiros.github.com/js-signals/>\n * Released under the MIT license\n * Author: Miller Medeiros\n * Version: 1.0.0 - Build: 268 (2012/11/29 05:48 PM)\n */\n\n(function(global){\n\n    // SignalBinding -------------------------------------------------\n    //================================================================\n\n    /**\n     * Object that represents a binding between a Signal and a listener function.\n     * <br />- <strong>This is an internal constructor and shouldn't be called by regular users.</strong>\n     * <br />- inspired by Joa Ebert AS3 SignalBinding and Robert Penner's Slot classes.\n     * @author Miller Medeiros\n     * @constructor\n     * @internal\n     * @name SignalBinding\n     * @param {Signal} signal Reference to Signal object that listener is currently bound to.\n     * @param {Function} listener Handler function bound to the signal.\n     * @param {boolean} isOnce If binding should be executed just once.\n     * @param {Object} [listenerContext] Context on which listener will be executed (object that should represent the `this` variable inside listener function).\n     * @param {Number} [priority] The priority level of the event listener. (default = 0).\n     */\n    function SignalBinding(signal, listener, isOnce, listenerContext, priority) {\n\n        /**\n         * Handler function bound to the signal.\n         * @type Function\n         * @private\n         */\n        this._listener = listener;\n\n        /**\n         * If binding should be executed just once.\n         * @type boolean\n         * @private\n         */\n        this._isOnce = isOnce;\n\n        /**\n         * Context on which listener will be executed (object that should represent the `this` variable inside listener function).\n         * @memberOf SignalBinding.prototype\n         * @name context\n         * @type Object|undefined|null\n         */\n        this.context = listenerContext;\n\n        /**\n         * Reference to Signal object that listener is currently bound to.\n         * @type Signal\n         * @private\n         */\n        this._signal = signal;\n\n        /**\n         * Listener priority\n         * @type Number\n         * @private\n         */\n        this._priority = priority || 0;\n    }\n\n    SignalBinding.prototype = {\n\n        /**\n         * If binding is active and should be executed.\n         * @type boolean\n         */\n        active : true,\n\n        /**\n         * Default parameters passed to listener during `Signal.dispatch` and `SignalBinding.execute`. (curried parameters)\n         * @type Array|null\n         */\n        params : null,\n\n        /**\n         * Call listener passing arbitrary parameters.\n         * <p>If binding was added using `Signal.addOnce()` it will be automatically removed from signal dispatch queue, this method is used internally for the signal dispatch.</p>\n         * @param {Array} [paramsArr] Array of parameters that should be passed to the listener\n         * @return {*} Value returned by the listener.\n         */\n        execute : function (paramsArr) {\n            var handlerReturn, params;\n            if (this.active && !!this._listener) {\n                params = this.params? this.params.concat(paramsArr) : paramsArr;\n                handlerReturn = this._listener.apply(this.context, params);\n                if (this._isOnce) {\n                    this.detach();\n                }\n            }\n            return handlerReturn;\n        },\n\n        /**\n         * Detach binding from signal.\n         * - alias to: mySignal.remove(myBinding.getListener());\n         * @return {Function|null} Handler function bound to the signal or `null` if binding was previously detached.\n         */\n        detach : function () {\n            return this.isBound()? this._signal.remove(this._listener, this.context) : null;\n        },\n\n        /**\n         * @return {Boolean} `true` if binding is still bound to the signal and have a listener.\n         */\n        isBound : function () {\n            return (!!this._signal && !!this._listener);\n        },\n\n        /**\n         * @return {boolean} If SignalBinding will only be executed once.\n         */\n        isOnce : function () {\n            return this._isOnce;\n        },\n\n        /**\n         * @return {Function} Handler function bound to the signal.\n         */\n        getListener : function () {\n            return this._listener;\n        },\n\n        /**\n         * @return {Signal} Signal that listener is currently bound to.\n         */\n        getSignal : function () {\n            return this._signal;\n        },\n\n        /**\n         * Delete instance properties\n         * @private\n         */\n        _destroy : function () {\n            delete this._signal;\n            delete this._listener;\n            delete this.context;\n        },\n\n        /**\n         * @return {string} String representation of the object.\n         */\n        toString : function () {\n            return '[SignalBinding isOnce:' + this._isOnce +', isBound:'+ this.isBound() +', active:' + this.active + ']';\n        }\n\n    };\n\n\n/*global SignalBinding:false*/\n\n    // Signal --------------------------------------------------------\n    //================================================================\n\n    function validateListener(listener, fnName) {\n        if (typeof listener !== 'function') {\n            throw new Error( 'listener is a required param of {fn}() and should be a Function.'.replace('{fn}', fnName) );\n        }\n    }\n\n    /**\n     * Custom event broadcaster\n     * <br />- inspired by Robert Penner's AS3 Signals.\n     * @name Signal\n     * @author Miller Medeiros\n     * @constructor\n     */\n    function Signal() {\n        /**\n         * @type Array.<SignalBinding>\n         * @private\n         */\n        this._bindings = [];\n        this._prevParams = null;\n\n        // enforce dispatch to aways work on same context (#47)\n        var self = this;\n        this.dispatch = function(){\n            Signal.prototype.dispatch.apply(self, arguments);\n        };\n    }\n\n    Signal.prototype = {\n\n        /**\n         * Signals Version Number\n         * @type String\n         * @const\n         */\n        VERSION : '1.0.0',\n\n        /**\n         * If Signal should keep record of previously dispatched parameters and\n         * automatically execute listener during `add()`/`addOnce()` if Signal was\n         * already dispatched before.\n         * @type boolean\n         */\n        memorize : false,\n\n        /**\n         * @type boolean\n         * @private\n         */\n        _shouldPropagate : true,\n\n        /**\n         * If Signal is active and should broadcast events.\n         * <p><strong>IMPORTANT:</strong> Setting this property during a dispatch will only affect the next dispatch, if you want to stop the propagation of a signal use `halt()` instead.</p>\n         * @type boolean\n         */\n        active : true,\n\n        /**\n         * @param {Function} listener\n         * @param {boolean} isOnce\n         * @param {Object} [listenerContext]\n         * @param {Number} [priority]\n         * @return {SignalBinding}\n         * @private\n         */\n        _registerListener : function (listener, isOnce, listenerContext, priority) {\n\n            var prevIndex = this._indexOfListener(listener, listenerContext),\n                binding;\n\n            if (prevIndex !== -1) {\n                binding = this._bindings[prevIndex];\n                if (binding.isOnce() !== isOnce) {\n                    throw new Error('You cannot add'+ (isOnce? '' : 'Once') +'() then add'+ (!isOnce? '' : 'Once') +'() the same listener without removing the relationship first.');\n                }\n            } else {\n                binding = new SignalBinding(this, listener, isOnce, listenerContext, priority);\n                this._addBinding(binding);\n            }\n\n            if(this.memorize && this._prevParams){\n                binding.execute(this._prevParams);\n            }\n\n            return binding;\n        },\n\n        /**\n         * @param {SignalBinding} binding\n         * @private\n         */\n        _addBinding : function (binding) {\n            //simplified insertion sort\n            var n = this._bindings.length;\n            do { --n; } while (this._bindings[n] && binding._priority <= this._bindings[n]._priority);\n            this._bindings.splice(n + 1, 0, binding);\n        },\n\n        /**\n         * @param {Function} listener\n         * @return {number}\n         * @private\n         */\n        _indexOfListener : function (listener, context) {\n            var n = this._bindings.length,\n                cur;\n            while (n--) {\n                cur = this._bindings[n];\n                if (cur._listener === listener && cur.context === context) {\n                    return n;\n                }\n            }\n            return -1;\n        },\n\n        /**\n         * Check if listener was attached to Signal.\n         * @param {Function} listener\n         * @param {Object} [context]\n         * @return {boolean} if Signal has the specified listener.\n         */\n        has : function (listener, context) {\n            return this._indexOfListener(listener, context) !== -1;\n        },\n\n        /**\n         * Add a listener to the signal.\n         * @param {Function} listener Signal handler function.\n         * @param {Object} [listenerContext] Context on which listener will be executed (object that should represent the `this` variable inside listener function).\n         * @param {Number} [priority] The priority level of the event listener. Listeners with higher priority will be executed before listeners with lower priority. Listeners with same priority level will be executed at the same order as they were added. (default = 0)\n         * @return {SignalBinding} An Object representing the binding between the Signal and listener.\n         */\n        add : function (listener, listenerContext, priority) {\n            validateListener(listener, 'add');\n            return this._registerListener(listener, false, listenerContext, priority);\n        },\n\n        /**\n         * Add listener to the signal that should be removed after first execution (will be executed only once).\n         * @param {Function} listener Signal handler function.\n         * @param {Object} [listenerContext] Context on which listener will be executed (object that should represent the `this` variable inside listener function).\n         * @param {Number} [priority] The priority level of the event listener. Listeners with higher priority will be executed before listeners with lower priority. Listeners with same priority level will be executed at the same order as they were added. (default = 0)\n         * @return {SignalBinding} An Object representing the binding between the Signal and listener.\n         */\n        addOnce : function (listener, listenerContext, priority) {\n            validateListener(listener, 'addOnce');\n            return this._registerListener(listener, true, listenerContext, priority);\n        },\n\n        /**\n         * Remove a single listener from the dispatch queue.\n         * @param {Function} listener Handler function that should be removed.\n         * @param {Object} [context] Execution context (since you can add the same handler multiple times if executing in a different context).\n         * @return {Function} Listener handler function.\n         */\n        remove : function (listener, context) {\n            validateListener(listener, 'remove');\n\n            var i = this._indexOfListener(listener, context);\n            if (i !== -1) {\n                this._bindings[i]._destroy(); //no reason to a SignalBinding exist if it isn't attached to a signal\n                this._bindings.splice(i, 1);\n            }\n            return listener;\n        },\n\n        /**\n         * Remove all listeners from the Signal.\n         */\n        removeAll : function () {\n            var n = this._bindings.length;\n            while (n--) {\n                this._bindings[n]._destroy();\n            }\n            this._bindings.length = 0;\n        },\n\n        /**\n         * @return {number} Number of listeners attached to the Signal.\n         */\n        getNumListeners : function () {\n            return this._bindings.length;\n        },\n\n        /**\n         * Stop propagation of the event, blocking the dispatch to next listeners on the queue.\n         * <p><strong>IMPORTANT:</strong> should be called only during signal dispatch, calling it before/after dispatch won't affect signal broadcast.</p>\n         * @see Signal.prototype.disable\n         */\n        halt : function () {\n            this._shouldPropagate = false;\n        },\n\n        /**\n         * Dispatch/Broadcast Signal to all listeners added to the queue.\n         * @param {...*} [params] Parameters that should be passed to each handler.\n         */\n        dispatch : function (params) {\n            if (! this.active) {\n                return;\n            }\n\n            var paramsArr = Array.prototype.slice.call(arguments),\n                n = this._bindings.length,\n                bindings;\n\n            if (this.memorize) {\n                this._prevParams = paramsArr;\n            }\n\n            if (! n) {\n                //should come after memorize\n                return;\n            }\n\n            bindings = this._bindings.slice(); //clone array in case add/remove items during dispatch\n            this._shouldPropagate = true; //in case `halt` was called before dispatch or during the previous dispatch.\n\n            //execute all callbacks until end of the list or until a callback returns `false` or stops propagation\n            //reverse loop since listeners with higher priority will be added at the end of the list\n            do { n--; } while (bindings[n] && this._shouldPropagate && bindings[n].execute(paramsArr) !== false);\n        },\n\n        /**\n         * Forget memorized arguments.\n         * @see Signal.memorize\n         */\n        forget : function(){\n            this._prevParams = null;\n        },\n\n        /**\n         * Remove all bindings from signal and destroy any reference to external objects (destroy Signal object).\n         * <p><strong>IMPORTANT:</strong> calling any method on the signal instance after calling dispose will throw errors.</p>\n         */\n        dispose : function () {\n            this.removeAll();\n            delete this._bindings;\n            delete this._prevParams;\n        },\n\n        /**\n         * @return {string} String representation of the object.\n         */\n        toString : function () {\n            return '[Signal active:'+ this.active +' numListeners:'+ this.getNumListeners() +']';\n        }\n\n    };\n\n\n    // Namespace -----------------------------------------------------\n    //================================================================\n\n    /**\n     * Signals namespace\n     * @namespace\n     * @name signals\n     */\n    var signals = Signal;\n\n    /**\n     * Custom event broadcaster\n     * @see Signal\n     */\n    // alias for backwards compatibility (see #gh-44)\n    signals.Signal = Signal;\n\n\n\n    //exports to multiple environments\n    if(typeof define === 'function' && define.amd){ //AMD\n        define(function () { return signals; });\n    } else if (typeof module !== 'undefined' && module.exports){ //node\n        module.exports = signals;\n    } else { //browser\n        //use string because of Google closure compiler ADVANCED_MODE\n        /*jslint sub:true */\n        global['signals'] = signals;\n    }\n\n}(this));\n","/** @license\n * crossroads <http://millermedeiros.github.com/crossroads.js/>\n * Author: Miller Medeiros | MIT License\n * v0.12.2 (2015/07/31 18:37)\n */\n\n(function () {\nvar factory = function (signals) {\n\n    var crossroads,\n        _hasOptionalGroupBug,\n        UNDEF;\n\n    // Helpers -----------\n    //====================\n\n    // IE 7-8 capture optional groups as empty strings while other browsers\n    // capture as `undefined`\n    _hasOptionalGroupBug = (/t(.+)?/).exec('t')[1] === '';\n\n    function arrayIndexOf(arr, val) {\n        if (arr.indexOf) {\n            return arr.indexOf(val);\n        } else {\n            //Array.indexOf doesn't work on IE 6-7\n            var n = arr.length;\n            while (n--) {\n                if (arr[n] === val) {\n                    return n;\n                }\n            }\n            return -1;\n        }\n    }\n\n    function arrayRemove(arr, item) {\n        var i = arrayIndexOf(arr, item);\n        if (i !== -1) {\n            arr.splice(i, 1);\n        }\n    }\n\n    function isKind(val, kind) {\n        return '[object '+ kind +']' === Object.prototype.toString.call(val);\n    }\n\n    function isRegExp(val) {\n        return isKind(val, 'RegExp');\n    }\n\n    function isArray(val) {\n        return isKind(val, 'Array');\n    }\n\n    function isFunction(val) {\n        return typeof val === 'function';\n    }\n\n    //borrowed from AMD-utils\n    function typecastValue(val) {\n        var r;\n        if (val === null || val === 'null') {\n            r = null;\n        } else if (val === 'true') {\n            r = true;\n        } else if (val === 'false') {\n            r = false;\n        } else if (val === UNDEF || val === 'undefined') {\n            r = UNDEF;\n        } else if (val === '' || isNaN(val)) {\n            //isNaN('') returns false\n            r = val;\n        } else {\n            //parseFloat(null || '') returns NaN\n            r = parseFloat(val);\n        }\n        return r;\n    }\n\n    function typecastArrayValues(values) {\n        var n = values.length,\n            result = [];\n        while (n--) {\n            result[n] = typecastValue(values[n]);\n        }\n        return result;\n    }\n\n    // borrowed from MOUT\n    function decodeQueryString(queryStr, shouldTypecast) {\n        var queryArr = (queryStr || '').replace('?', '').split('&'),\n            reg = /([^=]+)=(.+)/,\n            i = -1,\n            obj = {},\n            equalIndex, cur, pValue, pName;\n\n        while ((cur = queryArr[++i])) {\n            equalIndex = cur.indexOf('=');\n            pName = cur.substring(0, equalIndex);\n            pValue = decodeURIComponent(cur.substring(equalIndex + 1));\n            if (shouldTypecast !== false) {\n                pValue = typecastValue(pValue);\n            }\n            if (pName in obj){\n                if(isArray(obj[pName])){\n                    obj[pName].push(pValue);\n                } else {\n                    obj[pName] = [obj[pName], pValue];\n                }\n            } else {\n                obj[pName] = pValue;\n           }\n        }\n        return obj;\n    }\n\n\n    // Crossroads --------\n    //====================\n\n    /**\n     * @constructor\n     */\n    function Crossroads() {\n        this.bypassed = new signals.Signal();\n        this.routed = new signals.Signal();\n        this._routes = [];\n        this._prevRoutes = [];\n        this._piped = [];\n        this.resetState();\n    }\n\n    Crossroads.prototype = {\n\n        greedy : false,\n\n        greedyEnabled : true,\n\n        ignoreCase : true,\n\n        ignoreState : false,\n\n        shouldTypecast : false,\n\n        normalizeFn : null,\n\n        resetState : function(){\n            this._prevRoutes.length = 0;\n            this._prevMatchedRequest = null;\n            this._prevBypassedRequest = null;\n        },\n\n        create : function () {\n            return new Crossroads();\n        },\n\n        addRoute : function (pattern, callback, priority) {\n            var route = new Route(pattern, callback, priority, this);\n            this._sortedInsert(route);\n            return route;\n        },\n\n        removeRoute : function (route) {\n            arrayRemove(this._routes, route);\n            route._destroy();\n        },\n\n        removeAllRoutes : function () {\n            var n = this.getNumRoutes();\n            while (n--) {\n                this._routes[n]._destroy();\n            }\n            this._routes.length = 0;\n        },\n\n        parse : function (request, defaultArgs) {\n            request = request || '';\n            defaultArgs = defaultArgs || [];\n\n            // should only care about different requests if ignoreState isn't true\n            if ( !this.ignoreState &&\n                (request === this._prevMatchedRequest ||\n                 request === this._prevBypassedRequest) ) {\n                return;\n            }\n\n            var routes = this._getMatchedRoutes(request),\n                i = 0,\n                n = routes.length,\n                cur;\n\n            if (n) {\n                this._prevMatchedRequest = request;\n\n                this._notifyPrevRoutes(routes, request);\n                this._prevRoutes = routes;\n                //should be incremental loop, execute routes in order\n                while (i < n) {\n                    cur = routes[i];\n                    cur.route.matched.dispatch.apply(cur.route.matched, defaultArgs.concat(cur.params));\n                    cur.isFirst = !i;\n                    this.routed.dispatch.apply(this.routed, defaultArgs.concat([request, cur]));\n                    i += 1;\n                }\n            } else {\n                this._prevBypassedRequest = request;\n                this.bypassed.dispatch.apply(this.bypassed, defaultArgs.concat([request]));\n            }\n\n            this._pipeParse(request, defaultArgs);\n        },\n\n        _notifyPrevRoutes : function(matchedRoutes, request) {\n            var i = 0, prev;\n            while (prev = this._prevRoutes[i++]) {\n                //check if switched exist since route may be disposed\n                if(prev.route.switched && this._didSwitch(prev.route, matchedRoutes)) {\n                    prev.route.switched.dispatch(request);\n                }\n            }\n        },\n\n        _didSwitch : function (route, matchedRoutes){\n            var matched,\n                i = 0;\n            while (matched = matchedRoutes[i++]) {\n                // only dispatch switched if it is going to a different route\n                if (matched.route === route) {\n                    return false;\n                }\n            }\n            return true;\n        },\n\n        _pipeParse : function(request, defaultArgs) {\n            var i = 0, route;\n            while (route = this._piped[i++]) {\n                route.parse(request, defaultArgs);\n            }\n        },\n\n        getNumRoutes : function () {\n            return this._routes.length;\n        },\n\n        _sortedInsert : function (route) {\n            //simplified insertion sort\n            var routes = this._routes,\n                n = routes.length;\n            do { --n; } while (routes[n] && route._priority <= routes[n]._priority);\n            routes.splice(n+1, 0, route);\n        },\n\n        _getMatchedRoutes : function (request) {\n            var res = [],\n                routes = this._routes,\n                n = routes.length,\n                route;\n            //should be decrement loop since higher priorities are added at the end of array\n            while (route = routes[--n]) {\n                if ((!res.length || this.greedy || route.greedy) && route.match(request)) {\n                    res.push({\n                        route : route,\n                        params : route._getParamsArray(request)\n                    });\n                }\n                if (!this.greedyEnabled && res.length) {\n                    break;\n                }\n            }\n            return res;\n        },\n\n        pipe : function (otherRouter) {\n            this._piped.push(otherRouter);\n        },\n\n        unpipe : function (otherRouter) {\n            arrayRemove(this._piped, otherRouter);\n        },\n\n        toString : function () {\n            return '[crossroads numRoutes:'+ this.getNumRoutes() +']';\n        }\n    };\n\n    //\"static\" instance\n    crossroads = new Crossroads();\n    crossroads.VERSION = '0.12.2';\n\n    crossroads.NORM_AS_ARRAY = function (req, vals) {\n        return [vals.vals_];\n    };\n\n    crossroads.NORM_AS_OBJECT = function (req, vals) {\n        return [vals];\n    };\n\n\n    // Route --------------\n    //=====================\n\n    /**\n     * @constructor\n     */\n    function Route(pattern, callback, priority, router) {\n        var isRegexPattern = isRegExp(pattern),\n            patternLexer = router.patternLexer;\n        this._router = router;\n        this._pattern = pattern;\n        this._paramsIds = isRegexPattern? null : patternLexer.getParamIds(pattern);\n        this._optionalParamsIds = isRegexPattern? null : patternLexer.getOptionalParamsIds(pattern);\n        this._matchRegexp = isRegexPattern? pattern : patternLexer.compilePattern(pattern, router.ignoreCase);\n        this.matched = new signals.Signal();\n        this.switched = new signals.Signal();\n        if (callback) {\n            this.matched.add(callback);\n        }\n        this._priority = priority || 0;\n    }\n\n    Route.prototype = {\n\n        greedy : false,\n\n        rules : void(0),\n\n        match : function (request) {\n            request = request || '';\n            return this._matchRegexp.test(request) && this._validateParams(request); //validate params even if regexp because of `request_` rule.\n        },\n\n        _validateParams : function (request) {\n            var rules = this.rules,\n                values = this._getParamsObject(request),\n                key;\n            for (key in rules) {\n                // normalize_ isn't a validation rule... (#39)\n                if(key !== 'normalize_' && rules.hasOwnProperty(key) && ! this._isValidParam(request, key, values)){\n                    return false;\n                }\n            }\n            return true;\n        },\n\n        _isValidParam : function (request, prop, values) {\n            var validationRule = this.rules[prop],\n                val = values[prop],\n                isValid = false,\n                isQuery = (prop.indexOf('?') === 0);\n\n            if (val == null && this._optionalParamsIds && arrayIndexOf(this._optionalParamsIds, prop) !== -1) {\n                isValid = true;\n            }\n            else if (isRegExp(validationRule)) {\n                if (isQuery) {\n                    val = values[prop +'_']; //use raw string\n                }\n                isValid = validationRule.test(val);\n            }\n            else if (isArray(validationRule)) {\n                if (isQuery) {\n                    val = values[prop +'_']; //use raw string\n                }\n                isValid = this._isValidArrayRule(validationRule, val);\n            }\n            else if (isFunction(validationRule)) {\n                isValid = validationRule(val, request, values);\n            }\n\n            return isValid; //fail silently if validationRule is from an unsupported type\n        },\n\n        _isValidArrayRule : function (arr, val) {\n            if (! this._router.ignoreCase) {\n                return arrayIndexOf(arr, val) !== -1;\n            }\n\n            if (typeof val === 'string') {\n                val = val.toLowerCase();\n            }\n\n            var n = arr.length,\n                item,\n                compareVal;\n\n            while (n--) {\n                item = arr[n];\n                compareVal = (typeof item === 'string')? item.toLowerCase() : item;\n                if (compareVal === val) {\n                    return true;\n                }\n            }\n            return false;\n        },\n\n        _getParamsObject : function (request) {\n            var shouldTypecast = this._router.shouldTypecast,\n                values = this._router.patternLexer.getParamValues(request, this._matchRegexp, shouldTypecast),\n                o = {},\n                n = values.length,\n                param, val;\n            while (n--) {\n                val = values[n];\n                if (this._paramsIds) {\n                    param = this._paramsIds[n];\n                    if (param.indexOf('?') === 0 && val) {\n                        //make a copy of the original string so array and\n                        //RegExp validation can be applied properly\n                        o[param +'_'] = val;\n                        //update vals_ array as well since it will be used\n                        //during dispatch\n                        val = decodeQueryString(val, shouldTypecast);\n                        values[n] = val;\n                    }\n                    // IE will capture optional groups as empty strings while other\n                    // browsers will capture `undefined` so normalize behavior.\n                    // see: #gh-58, #gh-59, #gh-60\n                    if ( _hasOptionalGroupBug && val === '' && arrayIndexOf(this._optionalParamsIds, param) !== -1 ) {\n                        val = void(0);\n                        values[n] = val;\n                    }\n                    o[param] = val;\n                }\n                //alias to paths and for RegExp pattern\n                o[n] = val;\n            }\n            o.request_ = shouldTypecast? typecastValue(request) : request;\n            o.vals_ = values;\n            return o;\n        },\n\n        _getParamsArray : function (request) {\n            var norm = this.rules? this.rules.normalize_ : null,\n                params;\n            norm = norm || this._router.normalizeFn; // default normalize\n            if (norm && isFunction(norm)) {\n                params = norm(request, this._getParamsObject(request));\n            } else {\n                params = this._getParamsObject(request).vals_;\n            }\n            return params;\n        },\n\n        interpolate : function(replacements) {\n            var str = this._router.patternLexer.interpolate(this._pattern, replacements);\n            if (! this._validateParams(str) ) {\n                throw new Error('Generated string doesn\\'t validate against `Route.rules`.');\n            }\n            return str;\n        },\n\n        dispose : function () {\n            this._router.removeRoute(this);\n        },\n\n        _destroy : function () {\n            this.matched.dispose();\n            this.switched.dispose();\n            this.matched = this.switched = this._pattern = this._matchRegexp = null;\n        },\n\n        toString : function () {\n            return '[Route pattern:\"'+ this._pattern +'\", numListeners:'+ this.matched.getNumListeners() +']';\n        }\n\n    };\n\n\n\n    // Pattern Lexer ------\n    //=====================\n\n    Crossroads.prototype.patternLexer = (function () {\n\n        var\n            //match chars that should be escaped on string regexp\n            ESCAPE_CHARS_REGEXP = /[\\\\.+*?\\^$\\[\\](){}\\/'#]/g,\n\n            //trailing slashes (begin/end of string)\n            LOOSE_SLASHES_REGEXP = /^\\/|\\/$/g,\n            LEGACY_SLASHES_REGEXP = /\\/$/g,\n\n            //params - everything between `{ }` or `: :`\n            PARAMS_REGEXP = /(?:\\{|:)([^}:]+)(?:\\}|:)/g,\n\n            //used to save params during compile (avoid escaping things that\n            //shouldn't be escaped).\n            TOKENS = {\n                'OS' : {\n                    //optional slashes\n                    //slash between `::` or `}:` or `\\w:` or `:{?` or `}{?` or `\\w{?`\n                    rgx : /([:}]|\\w(?=\\/))\\/?(:|(?:\\{\\?))/g,\n                    save : '$1{{id}}$2',\n                    res : '\\\\/?'\n                },\n                'RS' : {\n                    //required slashes\n                    //used to insert slash between `:{` and `}{`\n                    rgx : /([:}])\\/?(\\{)/g,\n                    save : '$1{{id}}$2',\n                    res : '\\\\/'\n                },\n                'RQ' : {\n                    //required query string - everything in between `{? }`\n                    rgx : /\\{\\?([^}]+)\\}/g,\n                    //everything from `?` till `#` or end of string\n                    res : '\\\\?([^#]+)'\n                },\n                'OQ' : {\n                    //optional query string - everything in between `:? :`\n                    rgx : /:\\?([^:]+):/g,\n                    //everything from `?` till `#` or end of string\n                    res : '(?:\\\\?([^#]*))?'\n                },\n                'OR' : {\n                    //optional rest - everything in between `: *:`\n                    rgx : /:([^:]+)\\*:/g,\n                    res : '(.*)?' // optional group to avoid passing empty string as captured\n                },\n                'RR' : {\n                    //rest param - everything in between `{ *}`\n                    rgx : /\\{([^}]+)\\*\\}/g,\n                    res : '(.+)'\n                },\n                // required/optional params should come after rest segments\n                'RP' : {\n                    //required params - everything between `{ }`\n                    rgx : /\\{([^}]+)\\}/g,\n                    res : '([^\\\\/?]+)'\n                },\n                'OP' : {\n                    //optional params - everything between `: :`\n                    rgx : /:([^:]+):/g,\n                    res : '([^\\\\/?]+)?\\/?'\n                }\n            },\n\n            LOOSE_SLASH = 1,\n            STRICT_SLASH = 2,\n            LEGACY_SLASH = 3,\n\n            _slashMode = LOOSE_SLASH;\n\n\n        function precompileTokens(){\n            var key, cur;\n            for (key in TOKENS) {\n                if (TOKENS.hasOwnProperty(key)) {\n                    cur = TOKENS[key];\n                    cur.id = '__CR_'+ key +'__';\n                    cur.save = ('save' in cur)? cur.save.replace('{{id}}', cur.id) : cur.id;\n                    cur.rRestore = new RegExp(cur.id, 'g');\n                }\n            }\n        }\n        precompileTokens();\n\n\n        function captureVals(regex, pattern) {\n            var vals = [], match;\n            // very important to reset lastIndex since RegExp can have \"g\" flag\n            // and multiple runs might affect the result, specially if matching\n            // same string multiple times on IE 7-8\n            regex.lastIndex = 0;\n            while (match = regex.exec(pattern)) {\n                vals.push(match[1]);\n            }\n            return vals;\n        }\n\n        function getParamIds(pattern) {\n            return captureVals(PARAMS_REGEXP, pattern);\n        }\n\n        function getOptionalParamsIds(pattern) {\n            return captureVals(TOKENS.OP.rgx, pattern);\n        }\n\n        function compilePattern(pattern, ignoreCase) {\n            pattern = pattern || '';\n\n            if(pattern){\n                if (_slashMode === LOOSE_SLASH) {\n                    pattern = pattern.replace(LOOSE_SLASHES_REGEXP, '');\n                }\n                else if (_slashMode === LEGACY_SLASH) {\n                    pattern = pattern.replace(LEGACY_SLASHES_REGEXP, '');\n                }\n\n                //save tokens\n                pattern = replaceTokens(pattern, 'rgx', 'save');\n                //regexp escape\n                pattern = pattern.replace(ESCAPE_CHARS_REGEXP, '\\\\$&');\n                //restore tokens\n                pattern = replaceTokens(pattern, 'rRestore', 'res');\n\n                if (_slashMode === LOOSE_SLASH) {\n                    pattern = '\\\\/?'+ pattern;\n                }\n            }\n\n            if (_slashMode !== STRICT_SLASH) {\n                //single slash is treated as empty and end slash is optional\n                pattern += '\\\\/?';\n            }\n            return new RegExp('^'+ pattern + '$', ignoreCase? 'i' : '');\n        }\n\n        function replaceTokens(pattern, regexpName, replaceName) {\n            var cur, key;\n            for (key in TOKENS) {\n                if (TOKENS.hasOwnProperty(key)) {\n                    cur = TOKENS[key];\n                    pattern = pattern.replace(cur[regexpName], cur[replaceName]);\n                }\n            }\n            return pattern;\n        }\n\n        function getParamValues(request, regexp, shouldTypecast) {\n            var vals = regexp.exec(request);\n            if (vals) {\n                vals.shift();\n                if (shouldTypecast) {\n                    vals = typecastArrayValues(vals);\n                }\n            }\n            return vals;\n        }\n\n        function interpolate(pattern, replacements) {\n            // default to an empty object because pattern might have just\n            // optional arguments\n            replacements = replacements || {};\n            if (typeof pattern !== 'string') {\n                throw new Error('Route pattern should be a string.');\n            }\n\n            var replaceFn = function(match, prop){\n                    var val;\n                    prop = (prop.substr(0, 1) === '?')? prop.substr(1) : prop;\n                    if (replacements[prop] != null) {\n                        if (typeof replacements[prop] === 'object') {\n                            var queryParts = [], rep;\n                            for(var key in replacements[prop]) {\n                                rep = replacements[prop][key];\n                                if (isArray(rep)) {\n                                    for (var k in rep) {\n                                        if ( key.slice(-2) == '[]' ) {\n                                            queryParts.push(encodeURI(key.slice(0, -2)) + '[]=' + encodeURI(rep[k]));\n                                        } else {\n                                            queryParts.push(encodeURI(key + '=' + rep[k]));\n                                        }\n                                    }\n                                }\n                                else {\n                                    queryParts.push(encodeURI(key + '=' + rep));\n                                }\n                            }\n                            val = '?' + queryParts.join('&');\n                        } else {\n                            // make sure value is a string see #gh-54\n                            val = String(replacements[prop]);\n                        }\n\n                        if (match.indexOf('*') === -1 && val.indexOf('/') !== -1) {\n                            throw new Error('Invalid value \"'+ val +'\" for segment \"'+ match +'\".');\n                        }\n                    }\n                    else if (match.indexOf('{') !== -1) {\n                        throw new Error('The segment '+ match +' is required.');\n                    }\n                    else {\n                        val = '';\n                    }\n                    return val;\n                };\n\n            if (! TOKENS.OS.trail) {\n                TOKENS.OS.trail = new RegExp('(?:'+ TOKENS.OS.id +')+$');\n            }\n\n            return pattern\n                        .replace(TOKENS.OS.rgx, TOKENS.OS.save)\n                        .replace(PARAMS_REGEXP, replaceFn)\n                        .replace(TOKENS.OS.trail, '') // remove trailing\n                        .replace(TOKENS.OS.rRestore, '/'); // add slash between segments\n        }\n\n        //API\n        return {\n            strict : function(){\n                _slashMode = STRICT_SLASH;\n            },\n            loose : function(){\n                _slashMode = LOOSE_SLASH;\n            },\n            legacy : function(){\n                _slashMode = LEGACY_SLASH;\n            },\n            getParamIds : getParamIds,\n            getOptionalParamsIds : getOptionalParamsIds,\n            getParamValues : getParamValues,\n            compilePattern : compilePattern,\n            interpolate : interpolate\n        };\n\n    }());\n\n\n    return crossroads;\n};\n\nif (typeof define === 'function' && define.amd) {\n    define(['signals'], factory);\n} else if (typeof module !== 'undefined' && module.exports) { //Node\n    module.exports = factory(require('signals'));\n} else {\n    /*jshint sub:true */\n    window['crossroads'] = factory(window['signals']);\n}\n\n}());\n\n","// import { crossroads } from './crossroads';\r\nvar crossroads = require('crossroads');\r\nvar worker = null;\r\nvar menu = {};\r\n\r\n$(document).ready(function() {\r\n  APP.init();\r\n  if (typeof Worker === 'undefined') {\r\n    alert('Navegador no suportat.')\r\n  }\r\n  else {\r\n    worker = new Worker('db.js');\r\n    var recipe = crossroads.addRoute(\"/recepta/{id}\", function(id) {\r\n  \t\tAPP.show(id);\r\n  \t});\r\n    var recipe = crossroads.addRoute(\"/\", function() {\r\n      APP.home();\r\n    });\r\n    crossroads.routed.add(console.log, console);\r\n    crossroads.parse(document.location.pathname);\r\n    worker.onmessage = function(params) {\r\n      var data = params.data.data;\r\n      switch (params.data.type) {\r\n        case 'add_menu':\r\n          var li = $('<li>', {html: '<a class=\"dropdown-trigger\" href=\"#!\" data-target=\"dropdown' + data.idx + '\">' + data.title + '</a>'}).addClass('loading').appendTo($('#nav'));\r\n          setTimeout(function() { li.removeClass('loading') }, 100);\r\n          var ul = $('<ul>', { id: 'dropdown' + data.idx }).addClass('dropdown-content dropdown-nested').appendTo($('body'));\r\n          APP.menu[data.title] = { recipes: [] };\r\n          break;\r\n\r\n        case 'add_recipe':\r\n          APP.menu[data.menu.title].recipes.push(data.recipe);\r\n          APP.receptes[data.recipe.id] = data.recipe;\r\n          // menu\r\n          var a = $('<a>', { href: '/recepta/' + data.recipe.id + '?r=' + Math.random() }).addClass('dropdown-trigger sub')\r\n            .data('target', 'dropdown' + data.menu.idx)\r\n            .data('hover', 'hover')\r\n            .data('alignment', 'left')\r\n            .html(data.recipe.Titol[0]);\r\n          var li = $('<li>').append(a).appendTo($('#dropdown' + data.menu.idx));\r\n          // Adapt width of the dropdown to the text\r\n          // if (data.recipe.Titol[0].width() > max_width) max_width = data.recipe.Titol[0].width();\r\n\r\n          break;\r\n        case 'finish':\r\n          APP.finish();\r\n          $(\".dropdown-trigger\").dropdown({\r\n            constrain_width: false,\r\n            closeOnClick: false,\r\n            coverTrigger: false,\r\n            hover: true\r\n          });\r\n          // $(\".sub\").dropdown({\r\n          //   constrain_width: false,\r\n          //   hover: true\r\n          // });\r\n\r\n          break;\r\n\r\n        case 'finished_recipe':\r\n          APP.receptes[data.id] = data;\r\n          APP.show(data.id);\r\n          break;\r\n      }\r\n    };\r\n\r\n    // load_recipes(1);\r\n  }\r\n});\r\n\r\nconst APP = {\r\n  menu: {},\r\n  receptes: [],\r\n  content: null,\r\n  page: 'home',\r\n  init: function() {\r\n    this.content = $('#content');\r\n  },\r\n  home: function() {\r\n    worker.postMessage({type: 'init'});\r\n    this.page = 'home';\r\n    var html = $('#home.template').html();\r\n    this.content.html(html);\r\n  },\r\n  show: function(id) {\r\n    this.page = parseInt(id);\r\n    $('body').removeClass('home');\r\n    var template = $('.template#recipe');\r\n    if (! (id in APP.receptes) ) {\r\n      worker.postMessage({ type: 'get_recipe', data: { id: id }});\r\n    }\r\n    else {\r\n      template.find('.recipe-title').html(APP.receptes[id].Titol[0]);\r\n      var list = '';\r\n      Object.keys(APP.receptes[id].Ingredients).forEach(function(ingredient) {\r\n        if (ingredient === 'titol') list += '<h6>' + APP.receptes[id].Ingredients[ingredient] + '</h6>';\r\n        else if (ingredient === 'persones' || ingredient === 'persona') {\r\n          if (APP.receptes[id].Ingredients[ingredient] !== '')\r\n            list += '<i>(per ' + APP.receptes[id].Ingredients[ingredient] + ' persones)</i>';\r\n        }\r\n        else {\r\n          list += '<li>' + APP.receptes[id].Ingredients[ingredient] + '</li>';\r\n        }\r\n      });\r\n      template.find('.recipe-ingredients ul').html(list);\r\n      var desc = APP.receptes[id].Elaboracio.map(function(step) {\r\n          if (step[step.length - 1] === ':') return '<h6>' + step + '</h6>';\r\n          else return '<li>' + step + '</li>';\r\n      })\r\n      template.find('.recipe-description ol').html(desc.join(''));\r\n      var html = template.html();\r\n      this.content.html(html);\r\n      worker.postMessage({type: 'init'});\r\n    }\r\n\r\n    // var categoria = APP.receptes[id].Categories.categoria;\r\n    // var altres =  APP.menu[categoria];\r\n    // var list = $('#recipe-list');\r\n    // list.html('');\r\n    // list.append($('<h4>', { html: 'Altres ' + categoria.toLowerCase() }));\r\n    // list.append('<div style=\"clear:both;\"></div>')\r\n\r\n  },\r\n  finish: function() {\r\n    // thumbs\r\n    if ($('body').hasClass('home')) {\r\n      this.receptes.forEach(function(data) {\r\n        APP.other(data);\r\n      });\r\n    }\r\n    else {\r\n      var menu = this.receptes[this.page].Categories.categoria;\r\n      var other = [];\r\n      this.menu[menu].recipes.forEach(function(data) {\r\n        if (data.id !== this.page) APP.other(data);\r\n      }.bind(this))\r\n    }\r\n  },\r\n  other: function(data) {\r\n    var template = $('.template#recipe-thumb');\r\n    template.find('.card-title').html(data.Titol[0]);\r\n    template.find('a').attr('href', '/recepta/' + data.id + '?r=' + Math.random());\r\n    var persones = data.Ingredients['persones'];\r\n    delete data.Ingredients['persones'];\r\n    var ingredients = Object.keys(data.Ingredients).join(', ');\r\n    ingredients = ingredients[0].toUpperCase() + ingredients.substring(1) + '.';\r\n    template.find('.ingredients').html(ingredients);\r\n    var html  = template.html();\r\n    $('#recipe-list').append(html);\r\n  }\r\n}\r\n\r\nString.prototype.width = function(font) {\r\n  var f = font || '21px arial',\r\n      o = $('<div></div>')\r\n            .text(this)\r\n            .css({'position': 'absolute', 'float': 'left', 'white-space': 'nowrap', 'visibility': 'hidden', 'font': f})\r\n            .appendTo($('body')),\r\n      w = o.width();\r\n\r\n  o.remove();\r\n\r\n  return w;\r\n}\r\n"]}